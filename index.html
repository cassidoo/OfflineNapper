<!doctype html>

<html>
	<head>
		<title>OfflineNapper</title>

		<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,700,900' rel='stylesheet' type='text/css'>
		<link href='main.css' rel='stylesheet' type='text/css'>

	</head>
	<body>
		<div id="environment" class="online">
			<div class="sky">
				<div class="cloud">

				</div>
				<div id="status">
					WORK TIME <!-- Operating under the assumption that they are online when they come to the site -->
				</div>
				<script>
                    // Thanks to Robert Nyman (robertnyman.com) for help!

                    (function()
                    {
                        var displayOnlineStatus = document.getElementById("status");
                        var environment = document.getElementById("environment");

                        var isOnline = function()
                        {
                            displayOnlineStatus.innerHTML = "WORK TIME";
                            environment.className = "online";
                        };

                        var isOffline = function()
                        {
                            displayOnlineStatus.innerHTML = "NAP TIME";
                            environment.className = "offline";
                        };

                        if(window.addEventListener)
                        {
                            window.addEventListener("online", isOnline, false);
                            window.addEventListener("offline", isOffline, false);
                        }
                        else
                        {
                            document.body.ononline = isOnline;
                            document.body.onoffline = isOffline;
                        }
                    })();
				</script>
				<div class="ground"></div>
			</div>
		</div>
	</body>
</html>