<!doctype html>

<html>
	<head>
		<title>OfflineNapper</title>

		<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,700,900' rel='stylesheet' type='text/css'>
		<link href='main.css' rel='stylesheet' type='text/css'>

	</head>
	<body>
		<div id="environment" class="online">
			<div class="sky">
				<div class="cloud"></div>
				<div class="cloud cloud2"></div>
				<div class="cloud cloud3"></div>
				<div id="status">
					WORK TIME <!-- Operating under the assumption that they are online when they come to the site -->
				</div>
				<div id="advice"></div>
				<audio id="alarm">
					<source src="music/Pkmn Intro.m4r" type="audio/mpeg">
					Your browser does not support the audio element.
				</audio>
				<script>
                    // Thanks to Robert Nyman (robertnyman.com) for help!

                    (function()
                    {
                        var displayOnlineStatus = document.getElementById("status");
                        var environment = document.getElementById("environment");
                        var advice = document.getElementById("advice");

                        var isOnline = function()
                        {
                            displayOnlineStatus.innerHTML = "WORK TIME";
                            advice.innerHTML = "(click the tree to snooze)";
                            environment.className = "online";
                            document.getElementById("alarm").play();
                        };

                        var isOffline = function()
                        {
                            displayOnlineStatus.innerHTML = "NAP TIME";
                            advice.innerHTML = "";
                            environment.className = "offline";
                        };

                        if(window.addEventListener)
                        {
                            window.addEventListener("online", isOnline, false);
                            window.addEventListener("offline", isOffline, false);
                        }
                        else
                        {
                            document.body.ononline = isOnline;
                            document.body.onoffline = isOffline;
                        }
                    })();
                    function pausemusic()
                    {
                    	document.getElementById("alarm").pause();
                    	document.getElementById("advice").innerHTML = "";
                    }
				</script>
				<div class="sun"></div>

				<div class="tree" onclick="pausemusic();">
					<div class="one"></div>
					<div class="two"></div>
					<div class="three"></div>
					<div class="four"></div>
					<div class="five"></div>
					<div class="six"></div>
					<div class="seven"></div>
				</div>
				
				<div class="ground"></div>
			</div>
		</div>
	</body>
</html>